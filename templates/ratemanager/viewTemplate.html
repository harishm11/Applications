{% extends 'body.html' %} {% load static %}
{% block title %} Create Ratebook {% endblock %}
{% block sidebarcontent %} 
  {% include 'ratemanager/sidebar.html' %} 
{% endblock  %}
{% load crispy_forms_tags %}
{% block maincontent %} 

<button id="expand-all">Expand All</button>
<button id="hide-all">Hide All</button>

{% for exhibit, data in TempleteObjectHeirarchy.items %}
<details>
  <summary>{{ exhibit }}</summary>
    {% for field, list in data.items %}
    <ul>
        <details>
          <summary>{{ field }}</summary>
          <ul>
            {% for subfield in list %}
              <li>{{ subfield }}</li>
            {% endfor %}
          </ul>
    </ul>
    {% endfor %}

</details>
{% endfor %}

  <script>
    const expandAllButton = document.getElementById('expand-all');
    const hideAllButton = document.getElementById('hide-all');

    expandAllButton.addEventListener('click', () => {
      const detailsElements = document.querySelectorAll('details');
      detailsElements.forEach(el => el.open = true);
    });

    hideAllButton.addEventListener('click', () => {
      const detailsElements = document.querySelectorAll('details');
      detailsElements.forEach(el => el.open = false);
    });
  </script>

{% endblock %}
